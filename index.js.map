{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\n\nconst API_KEY = \"49795001-63fc88dd531083a7427250d55\";\n\nexport async function getImagesByQuery(query) {\n    return await axios(\"https://pixabay.com/api/\", {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n           \n        }\n    })\n}\n\n//. Ця функція повинна \n// приймати один параметр query (пошукове слово, яке є рядком), \n// здійснювати HTTP-запит і повертати значення властивості data з отриманої відповіді.","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nlet lightbox = null;\n\nfunction galeryTemplate(data) {\n\tconst {\n\t\twebformatURL,\n\t\tlargeImageURL,\n\t\ttags,\n\t\tlikes,\n\t\tviews,\n\t\tcomments,\n\t\tdownloads,\n\t} = data;\n\n\treturn `<li class=\"gallery-item\">\n        <div>\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        </div>\n        <ul class=\"gallery-sublist\">\n          <li class=\"gallery-subitem\"><p class=\"sub-text\">Likes</p><p class=\"sub-value\">${likes}</p></li>\n          <li class=\"gallery-subitem\"><p class=\"sub-text\">Views</p><p class=\"sub-value\">${views}</p></li>\n          <li class=\"gallery-subitem\"><p class=\"sub-text\">Comments</p><p class=\"sub-value\">${comments}</p></li>\n          <li class=\"gallery-subitem\"><p class=\"sub-text\">Downloads</p><p class=\"sub-value\">${downloads}</p></li>\n        </ul>\n      </li>`;\n}\n\nexport function createGallery(images) {\n  const createMurkup = images.map(galeryTemplate).join('');\n  gallery.insertAdjacentHTML('beforeend', createMurkup);\n\n  if (lightbox) {\n      lightbox.refresh();\n  } else {\n      lightbox = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionDelay: 250,\n      });\n  }\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n  if (lightbox) {\n      lightbox.destroy();\n      lightbox = null;\n  }\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"hidden\");\n}\n   \n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst refs = {\n\tform: document.querySelector('form'),\n\tloader: document.querySelector('.loader'),\n\tgallery: document.querySelector('.gallery'),\n};\n\n\n\nhideLoader();\n\nrefs.form.addEventListener('submit', handleSubmit);\n\n\n\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\trefs.gallery.innerHTML = '';\n\n\t\n\tshowLoader();\n\n    const enteredInput = event.target.elements.search.value.trim();\n\t\n\n    if (!enteredInput) {\n        showMessage ('Please enter a search query');\n        \n        \n        return;\n    }\n\n    showLoader();\n\t\n    clearGallery();\n\t\n\n    getImagesByQuery(enteredInput)\n        .then(response => {\n            const data = response.data;\n\n            if (!data.hits || data.hits.length === 0) {\n                showMessage ('Sorry, no images found. Please try another query!');\n                \n                return;\n            }\n\n            \n            createGallery(data.hits);\n\n        })\n        .catch(error => {\n            showMessage ( 'Failed to fetch images. Please try again later.');\n            \n            console.error('Error:', error);\n        })\n        .finally(() => {\n            hideLoader();\n            \n        });\n\t\tevent.target.reset();\n}\n\n\n\n\nfunction showMessage(message) {\n\tiziToast.warning({\n\t\tmessage: message,\n\t\ttitleColor: '#fff',\n\t\ttitleSize: '16px',\n\t\ttitleLineHeight: '1.5',\n\t\tmessageColor: '#fff',\n\t\tmessageSize: '16px',\n\t\tmessageLineHeight: '1.5',\n\t\tbackgroundColor: '#ef4040',\n\t\tposition: 'topRight',\n\t});\n}"],"names":["API_KEY","getImagesByQuery","query","axios","gallery","loader","lightbox","galeryTemplate","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createGallery","images","createMurkup","SimpleLightbox","clearGallery","showLoader","hideLoader","refs","handleSubmit","event","enteredInput","showMessage","response","error","message","iziToast"],"mappings":"owBAGA,MAAMA,EAAU,qCAET,eAAeC,EAAiBC,EAAO,CAC1C,OAAO,MAAMC,EAAM,2BAA4B,CAC3C,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEf,CACT,CAAK,CACL,CCbA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,KAEf,SAASC,EAAeC,EAAM,CAC7B,KAAM,CACL,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACA,EAAGP,EAEJ,MAAO;AAAA;AAAA,wCAEgCE,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,0FAIoBC,CAAK;AAAA,0FACLC,CAAK;AAAA,6FACFC,CAAQ;AAAA,8FACPC,CAAS;AAAA;AAAA,YAGvG,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAeD,EAAO,IAAIV,CAAc,EAAE,KAAK,EAAE,EACvDH,EAAQ,mBAAmB,YAAac,CAAY,EAEhDZ,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIa,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GACxB,CAAO,CAEP,CAEO,SAASC,GAAe,CAC7BhB,EAAQ,UAAY,GAChBE,IACAA,EAAS,QAAO,EAChBA,EAAW,KAEjB,CAEO,SAASe,GAAa,CAC3BhB,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASiB,GAAa,CAC3BjB,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCzDA,MAAMkB,EAAO,CACZ,KAAM,SAAS,cAAc,MAAM,EACnC,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,CAC3C,EAIAD,IAEAC,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAKjD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACvBF,EAAK,QAAQ,UAAY,GAGzBF,IAEG,MAAMK,EAAeD,EAAM,OAAO,SAAS,OAAO,MAAM,OAGxD,GAAI,CAACC,EAAc,CACfC,EAAa,6BAA6B,EAG1C,MACH,CAEDN,IAEAD,IAGAnB,EAAiByB,CAAY,EACxB,KAAKE,GAAY,CACd,MAAMpB,EAAOoB,EAAS,KAEtB,GAAI,CAACpB,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACtCmB,EAAa,mDAAmD,EAEhE,MACH,CAGDX,EAAcR,EAAK,IAAI,CAEnC,CAAS,EACA,MAAMqB,GAAS,CACZF,EAAc,iDAAiD,EAE/D,QAAQ,MAAM,SAAUE,CAAK,CACzC,CAAS,EACA,QAAQ,IAAM,CACXP,GAEZ,CAAS,EACPG,EAAM,OAAO,OACf,CAKA,SAASE,EAAYG,EAAS,CAC7BC,EAAS,QAAQ,CAChB,QAASD,EACT,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,UACZ,CAAE,CACF"}